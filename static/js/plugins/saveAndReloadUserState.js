// Generated by CoffeeScript 1.6.2
(function() {
  var SaveAndReloadUserState;

  SaveAndReloadUserState = (function() {
    function SaveAndReloadUserState() {}

    SaveAndReloadUserState.prototype.load = function() {
      var localStorageCurrentFolder;

      console.log("~~~");
      localStorageCurrentFolder = "SaveAndReloadUserState-currentFolder";
      App.yatodo.todoListHeader.on("goto", function(folder) {
        if (localStorage) {
          return localStorage.setItem(localStorageCurrentFolder, folder.name);
        }
      });
      return App.yatodo.on("ready", function() {
        var folder, folderName, _i, _len, _ref, _results;

        if (localStorage) {
          folderName = localStorage.getItem(localStorageCurrentFolder);
          if (folderName) {
            _ref = App.dataManager.data.folders;
            _results = [];
            for (_i = 0, _len = _ref.length; _i < _len; _i++) {
              folder = _ref[_i];
              if (folder.name === folderName) {
                _results.push(App.yatodo.todoListHeader.goto(folder));
              } else {
                _results.push(void 0);
              }
            }
            return _results;
          }
        }
      });
    };

    SaveAndReloadUserState.prototype.unload = function() {};

    return SaveAndReloadUserState;

  })();

  Plugins.push(new SaveAndReloadUserState());

}).call(this);

/*
//@ sourceMappingURL=saveAndReloadUserState.map
*/
